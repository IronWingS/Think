```xml
连接数据库，
<db_ip>192.168.48.100</db_ip>
<db_name>homed_dtvs</db_name>
<db_username>homed</db_username>
<db_password>newclustersql</db_password>
```



```shell
mysql -h 192.168.48.100 -P 3306 -u homed -p newclustersql
```





# 2020-11-27

- [x] 今天的主要工作就是完成两种不同格式数据的统一，并让他们进行运算。

- [x] 然后有时间就搞定docker跨主机通信的问题。（问了下，结果这个需要用docker compose来做，就很麻烦了，今天搞不定，只能先有个大概了解）
- [ ] 刷算法，今天任务少，其实可以偷偷多刷几道



统一时间格式这个，mysql没问题。但是DataFrame，我最开始是想找一个类似的api，但是昨天一下午都没找到。今天，还是先找找看，如果有现成的方法，就直接用吧。

如果还是没找到，就看能不能把s换成datatype。

总之就是要求两个数的商。



# 2020-11-30

今天主要是要搞好docker的一键化部署的脚本还有文档，因为文档的一些内容有些变动，然后就是把文档再改一版为部署的步骤说明性文档，就不要那种科普性的了。

然后上周五本来说多刷几道算法，结果一到也没刷，今天必须至少刷一道算法题。

还有公众号，现在是148个粉丝， 哎，都是我爸妈的功劳，我也得支棱起来啊。今天无论如何得发一篇文章。

- [x] 搞定docker一键部署代码
- [x] 整理两份docker文档
- [ ] 一道算法题
- [ ] 一篇公众号文章

**注意，这不是演习，今天必须全部做完，绝对不能留尾巴！！！**



# 2020-12-2

女朋友并不能帮我解决现在遇到的问题；一个名校学历并不能帮我解决我现在遇到的问题；名牌公司也不能帮我解决现在遇到的问题。

只能靠自己。

- [x] 搞定如何使用spark读取hive数据
- [ ] 解决算法“遍历二叉树的神级方法”
- [x] 编写代码“如何直观的打印二叉树”
- [x] 完成公众号文章“基于docker搭建大数据平台系列（一）”
- [x] 健身，今天炼背
- [x] 解决linux长命令不能换行的问题，vim只显示一半的问题

任务完成率  **83.3 %**

# 2020-12-3

- [x] 搞定hive读数据异常的问题
- [x]  把工作环境迁移到mac上
- [ ] 搞定算法“遍历二叉树的神级方法”
- [x] 发表公众号文章“基于docker搭建大数据平台系列（一）”
- [ ] 整理公众号文章的大纲
- [ ] 复习“如何直观的打印二叉树”的算法

任务完成率： **50%**



# 2020-12-4

- [x] 分析hive中的数据，是否有异常
- [x] 搞定所有的开发任务
- [ ] 搞定算法“遍历二叉树的神级方法”
- [ ] 整理公众号文章的大纲
- [ ] 复习“如何直观的打印二叉树”的算法
- [ ] 任务完成率要比昨天高



# 2020-12-14

目前遇到的这个任务，第一个难点，就是怎么把DataFrame保存到HBase中，关键是，这个DataFrame中有一列是不断变化的，所以相应的HBase中的列族也要变幻，也就是要实现动态插入DataFrame的列。

- [ ]  安装好伪分布模式的HBase
- [ ] 搞定HBase如何在列族中新增一列
- [ ] DataFrame怎么把一列按 | 进行分割
- [ ] 算法
- [ ] 公众号文章



# 2020-12-17

虽然有很多槽点，吐槽就行了，狠狠的吐槽，然后好好的学知识，不要忘了来这家公司的初心。

- [ ] 最多只在HBase中每个RowKey只保存30条的数据，这个感觉是可以通过程序来实现，因为可以通过scala代码实现HBase表的删除功能。

  就是，先利用程序读取每个rowkey对应的数据，统计一下数据量的大小，如果超过30条，就把这些数据全部删掉，重新开始写。

  那如果用phoenix来做这个事情，怎么样。就是对数据的增和删。（这个后面肯定还是得搞，暂时先放一放。）

  然后另一个列族的话，其实就可以不做处理，因为是统计的值，那么就可以保持现有的列结构，是要把总计的值加起来就可以



| rowkey  | colfamily 1（保存30天的数据）            | colfamily 2 (另一个列族的求和值)       |
| ------- | ---------------------------------------- | -------------------------------------- |
|         | col1 \| col 2 \|  col 3  (series_id ...) | col 1 \| col 2 \| col 3 (series_id...) |
| user_id |                                          |                                        |



- 把每天的增量信息保存到cf1中，
  - 统计当前rowkey的数据条数，如果不超过30条，直接写入
  - 如果超过30条，删除多该rowkey对应的所有数据，再写入
- 把增量信息加到cf2中
  - cf2的表中只做添加和更新操作，不作删除。



**HBase的随机读写是什么意思？得搞清楚**



那今天的工作内容就是：

- [x] 设置好表结构
- [x] 把DataFrame写入到Hbase表中
- [ ] 读取RowKey对应的数据条数
- [ ] 删除RowKey对应第一个列族的数据



<<<<<<< HEAD
# 2020-12-19

今天做点什么呢？

得准备去大厂。

所以得准备面试题，准备刷算法，看计算机基础书籍。



2021年就得开始准备面试了，倒计时13天。



# 2020-12-20

机会还是很多的，只要有一双善于发现的眼睛。

奢侈品，我觉得就是一个非常不错的方向。奢侈品专家，可以多关注几个，想昨天晚上看的那个，然后可以在知乎、简书等等这些平台上发文章。

这当然会占用我大量的时间，但是，我觉的，值得。

所以，今天的任务。

- [ ] 两道算法题，因为昨天没有写。
- [ ] 搜集资料，写一篇关于宾利的文章，得有料，得有趣。
- [ ] 健身，这个真的不能少。





=======
# 2020-12-18

昨天讨论了一下，最后还是决定，用轮询的方法删除数据。

那就得按照时间戳来实现一个排序，然后删掉最早的那条数据。

排序前得先计算一下，这个user_id对应的数据有多少条，如果大于30，就准备删除。否则直接插入数据。

- [ ] 统计每个user_id，对应的数据条数
- [ ] 能够按时间戳对数据进行排序
- [ ] 删除最早的那条数据



# 2020-12-21

偶尔摸摸鱼就算了，但是绝对不能摸成习惯了。

今天得把phoenix搞定，我觉得利用phoenix应该可以实现预定的目标。

- [x] 装好phoenix
- [x] 利用phoenix操作HBase，完成增删改查
- [x] 利用spark操作phoenix，完成增删改查
- [x] 刷一道算法
- [ ] 写公众号啊，写公众号啊





# 2020-12-22

还有9天了，今年就结束了。

公众号啊，公众号啊。

HBase的30天存储已经没有问题了，可以用30个版本的时间戳来实现，不过，现在的问题就是，怎么用spark读到Hbase中的那30个版本的数据。

- [x] 用spark读取HBase中的数据
- [ ] 读取30个版本的数据
- [ ] 读取版本最早的那条数据
- [x] 再刷一道算法
- [ ] 公众号文章，只要有电脑，甚至，只要有个笔，有张纸就能写，这玩意，你得支棱起来啊。
>>>>>>> cff3a354d6bf6387549c88aec3485fe696f53206





<<<<<<< HEAD








=======
我得坚持写下去，一切都会消逝，一切最终都会离开，一切都会归于虚无。

温水，只适合洗澡。



# 2020-12-24

放松也好，紧张也好，纵容自己也好，批评自己也好，总之，目的就是想让自己能更加的优秀，能更加的勤奋。

将来有机会，为他人更好的做贡献。

不过现在的现象是，纵容，批评，最终的结果，都是，计划要完成的事情，几乎没有哪天是真正完成了的。

所以，该怎么办。

就在这慢慢加温的水池子里待着吗，虽说人固有一死。

今天的任务：

- [ ] 完成HBase查找全版本数据的代码书写
- [ ] 因为剩的东西已经不多了。 写完以后，就开始写公众号。
- [ ] 再刷一篇关于二叉树的算法
- [ ] 准备面试，开始看面试宝典中关于java基础的部分。
- [ ] 可以配合HOlli的那个java
>>>>>>> cff3a354d6bf6387549c88aec3485fe696f53206



# 2020-12-25

脑子里这根弦不能断，得浇灌，培养他，让他能够茁壮成长。

- [ ] 完成HBase相关任务的开发，最好今天早上就能全部做完。
- [ ] 完成层序遍历反序列化的开发流程
- [ ] 再做一道这道题之后的题目
- [x] 看完阿里的所有跟java相关的题目



# 2020-12-28

目前，Hbase的开发任务，完成到了可以把DataFrame中的数据，按照给定的格式保存到Hbase中。

下一步需要实现的功能是，完成读取30个版本的数据，将字符串解析，之后再求个和，再按照给定的格式存储到HBase中。

读取HBase的30个版本的数据，

解析字符串

求和

保存到HBase





# 2020-12-29

老实说，我给自己安排的任务还是挺重的。所以经常完不成。那么今天能不能完成呢？

- [x] 完成HBase的开发任务，因为基本上所有的相关代码都已经完成了，框架基础也打通了，剩下的，不过是根据业务，修改代码细节而已，这就是结构化代码的好处，增强复用性。也就是人月神话里说的，没有银弹。

- [x] 继续看阿里的面试题，至少完成三道面试题的梳理总结。

  就我以前面试的经验来看，似乎现在面试官都很喜欢多线程和高并发的问题。

- [ ] 刷一道二叉树的算法题





# 2020-12-30

2020年倒数第二天了，昨天的任务完成了吗，依然没有。当然了，借口这个东西，只要想找，随时都能搞出一大堆来。

那么，目标怎么办呢。

- [ ] 把HBase相关的代码整理出来，对代码进行分层。
- [ ] 在二叉树中找到累加和为指定值的最长路径长度；  搞定这道题
- [ ] 搞清楚 java 的init方法和clinit方法
- [ ] 然后下班回去，依然要打开这个文件，继续编辑，把要做的事情具体细化，细化到不能再细化，越具体越好。
- [ ] 看完第八章  ---》 调度：多级反馈队列































